<!DOCTYPE html>




<html lang="en">
  <head>
    <meta charset="utf-8" />
    
    <title>Overview &mdash; LTL 1.0.0-beta documentation</title>
    <meta name="description" content="">
    <meta name="author" content="">

    

<link rel="stylesheet" href="_static/css/basicstrap-base.css" type="text/css" />
<link rel="stylesheet" id="current-theme" href="_static/css/bootstrap3/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" id="current-adjust-theme" type="text/css" />

<link rel="stylesheet" href="_static/css/font-awesome.min.css">

<style type="text/css">
  body {
    padding-top: 60px;
    padding-bottom: 40px;
  }
</style>

<link rel="stylesheet" href="_static/css/basicstrap.css" type="text/css" />
<link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    './',
            VERSION:     '1.0.0-beta',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
  };
</script>
    <script type="text/javascript" src="_static/js/jquery.min.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/bootstrap3.min.js"></script>
<script type="text/javascript" src="_static/js/jquery.cookie.min.js"></script>
<script type="text/javascript" src="_static/js/basicstrap.js"></script>
<script type="text/javascript">
</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="LTL 1.0.0-beta documentation" href="index.html" />
    <link rel="next" title="API Reference" href="ltl.html" />
    <link rel="prev" title="Quickstart" href="quickstart.html" /> 
  </head>
  <body role="document">
    <div id="navbar-top" class="navbar navbar-fixed-top navbar-default" role="navigation" aria-label="top navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">LTL 1.0.0-beta documentation</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
              <li class="dropdown visible-xs">
                <a role="button" id="localToc" data-toggle="dropdown" data-target="#" href="#">Table Of Contents <b class="caret"></b></a>
                <ul class="dropdown-menu localtoc sp-localtoc" role="menu" aria-labelledby="localToc">
                <ul>
<li><a class="reference internal" href="#">Overview</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#the-interface">The Interface</a><ul>
<li><a class="reference internal" href="#terminology">Terminology</a></li>
<li><a class="reference internal" href="#iteration-loop">Iteration loop</a></li>
<li><a class="reference internal" href="#usage-of-pypet">Usage of PyPet</a></li>
</ul>
</li>
<li><a class="reference internal" href="#writing-new-algorithms">Writing new algorithms</a><ul>
<li><a class="reference internal" href="#important-data-structures">Important Data Structures</a><ul>
<li><a class="reference internal" href="#trajectory">Trajectory</a></li>
<li><a class="reference internal" href="#individual-dicts">Individual-Dict</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optimizee">Optimizee</a><ul>
<li><a class="reference internal" href="#constructor-of-optimizee">Constructor of Optimizee</a></li>
<li><a class="reference internal" href="#the-create-individual-function">The <code class="docutils literal"><span class="pre">create_individual()</span></code> function:</a></li>
<li><a class="reference internal" href="#the-simulate-function">The <code class="docutils literal"><span class="pre">simulate()</span></code> function:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optimizer">Optimizer</a><ul>
<li><a class="reference internal" href="#constructor-of-optimizer">Constructor of Optimizer</a></li>
<li><a class="reference internal" href="#the-post-process-function">The <code class="docutils literal"><span class="pre">post_process()</span></code> function:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-an-ltl-simulation">Running an LTL simulation</a></li>
<li><a class="reference internal" href="#parameter-bounding">Parameter Bounding</a><ul>
<li><a class="reference internal" href="#important-notes-about-bounding">Important Notes about Bounding</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#data-postprocessing">Data postprocessing</a></li>
<li><a class="reference internal" href="#parallelization">Parallelization</a></li>
<li><a class="reference internal" href="#logging">Logging</a></li>
<li><a class="reference internal" href="#additional-utilities-and-protocols">Additional Utilities and Protocols</a><ul>
<li><a class="reference internal" href="#dict-to-list-to-dict-conversion">dict-to-list-to-dict Conversion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-packages-used">Other packages used</a></li>
</ul>
</li>
</ul>

                </ul>
              </li>

            
              <li><a href="quickstart.html" title="Quickstart" accesskey="P">previous </a></li>
              <li><a href="ltl.html" title="API Reference" accesskey="N">next </a></li>
              <li><a href="py-modindex.html" title="Python Module Index" >modules </a></li>
              <li><a href="genindex.html" title="General Index" accesskey="I">index </a></li>
            
            <li class="visible-xs"><a href="_sources/intro.rst.txt" rel="nofollow">Show Source</a></li>

            <li class="visible-xs">
                <form class="search form-search form-inline navbar-form navbar-right sp-searchbox" action="search.html" method="get">
                  <div class="input-append input-group">
                    <input type="text" class="search-query form-control" name="q" placeholder="Search...">
                    <span class="input-group-btn">
                    <input type="submit" class="btn" value="Go" />
                    </span>
                  </div>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </li>

            

          </ul>

        </div>
      </div>
    </div>
    

    <!-- container -->
    <div class="container-fluid">

      <!-- row -->
      <div class="row">
         
<div class="col-md-3 hidden-xs" id="sidebar-wrapper">
  <div class="sidebar hidden-xs" role="navigation" aria-label="main navigation">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-interface">The Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#terminology">Terminology</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iteration-loop">Iteration loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage-of-pypet">Usage of PyPet</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#writing-new-algorithms">Writing new algorithms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#important-data-structures">Important Data Structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#trajectory">Trajectory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#individual-dicts">Individual-Dict</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#optimizee">Optimizee</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#constructor-of-optimizee">Constructor of Optimizee</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-create-individual-function">The <code class="docutils literal"><span class="pre">create_individual()</span></code> function:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-simulate-function">The <code class="docutils literal"><span class="pre">simulate()</span></code> function:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#optimizer">Optimizer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#constructor-of-optimizer">Constructor of Optimizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-post-process-function">The <code class="docutils literal"><span class="pre">post_process()</span></code> function:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-an-ltl-simulation">Running an LTL simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameter-bounding">Parameter Bounding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#important-notes-about-bounding">Important Notes about Bounding</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-postprocessing">Data postprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parallelization">Parallelization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#additional-utilities-and-protocols">Additional Utilities and Protocols</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dict-to-list-to-dict-conversion">dict-to-list-to-dict Conversion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#other-packages-used">Other packages used</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ltl.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="ltl-bin.html">LTL Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="indices.html">Indices and tables</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="quickstart.html"
                        title="previous chapter">Quickstart</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ltl.html"
                        title="next chapter">API Reference</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/intro.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" role="search">
  <h3>Quick search</h3>
  <form class="search form-inline" action="search.html" method="get">
      <div class="input-append input-group">
        <input type="text" class="search-query form-control" name="q" placeholder="Search...">
        <span class="input-group-btn">
        <input type="submit" class="btn" value="Go" />
        </span>
      </div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
  </div>
</div> 
        

        <div class="col-md-9" id="content-wrapper">
          <div class="document" role="main">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body">
                  
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This is the Learning to Learn framework for experimenting with many different algorithms. The basic idea behind “Learning to
Learn” is to have an “outer loop” optimizer optimizing the parameters of an “inner loop” optimizee. This particular
framework is written for the case where the cycle goes as follows:</p>
<ol class="arabic simple">
<li>The outer-loop optimizer generates an instance of a set of parameters and provides it to the inner-loop optimizee</li>
<li>The inner-loop optimizee evaluates how well this set of parameters performs and returns a “fitness” vector for each
parameter in the set of parameters</li>
<li>The outer-loop optimizer generates a new set of parameters using the fitness vector it got back from the inner-loop
optimizee</li>
</ol>
<p>On the whole, what this means is that the outer-loop Optimizer works only with parameters and fitness values and doesn’t
have access to the actual underlying model of the optimizee. And the only thing the optimizee does is to evaluate the
fitness of the given parameter. This fitness can be anything – the reward achieved in a domain, the mean squared error
on a dataset etc.</p>
</div>
<div class="section" id="the-interface">
<h2>The Interface<a class="headerlink" href="#the-interface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="terminology">
<h3>Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<span id="individual"></span><dl class="docutils" id="individuals">
<dt><em>Individual</em>:</dt>
<dd>An Individual refers to an instance of hyper-parameters used in the  <cite>Optimizee</cite>. This means that the <cite>Optimizer</cite>
tests multiple individuals of an optimizee to perform an optimization. This terminology is borrowed from evolutionary
algorithms. It is equivalent to the hyper-parameters of the <cite>Optimizee</cite>.</dd>
</dl>
<dl class="docutils" id="generation">
<dt><em>Generation</em>:</dt>
<dd>This term, again borrowed from evolutionary algorithms, refers to a single iteration of the outer-loop. Refer to
the Top-Level iteration Description in the introduction to see exactly what is done each generation</dd>
</dl>
<dl class="docutils" id="population">
<dt><em>Population</em>:</dt>
<dd>Used to denote a set of <a class="reference internal" href="#individuals">individuals</a> that are evaluated in the same <a class="reference internal" href="#generation">generation</a>.</dd>
</dl>
<p>Other terms such as Trajectory, individual-dict, are defined as they are introduced below.</p>
</div>
<div class="section" id="iteration-loop">
<span id="id1"></span><h3>Iteration loop<a class="headerlink" href="#iteration-loop" title="Permalink to this headline">¶</a></h3>
<p>The progress of execution in the script shown in <a class="reference internal" href="ltl-bin.html"><span class="doc">LTL Experiments</span></a> goes as follows:</p>
<ol class="arabic simple">
<li>At the beginning, a <em>population</em> of <em>individuals</em>  is created by the <cite>Optimizer</cite> by calling the <cite>Optimizee</cite>’s
<a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.create_individual" title="ltl.optimizees.optimizee.Optimizee.create_individual"><code class="xref py py-meth docutils literal"><span class="pre">create_individual()</span></code></a> method.</li>
<li>The <cite>Optimizer</cite> then puts these <em>individuals</em> in its member variable <a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer.eval_pop" title="ltl.optimizers.optimizer.Optimizer.eval_pop"><code class="xref py py-attr docutils literal"><span class="pre">eval_pop</span></code></a>
and calls its <a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer._expand_trajectory" title="ltl.optimizers.optimizer.Optimizer._expand_trajectory"><code class="xref py py-meth docutils literal"><span class="pre">_expand_trajectory()</span></code></a> method. This is the *key* step to
starting and continuing the loop and should be done in all new <cite>Optimizer</cite> s added.</li>
<li id="third-step"><a class="reference internal" href="#pypet-section"><span class="std std-ref">Pypet</span></a>  creates one <cite>Optimizee</cite> run for each <em>individual</em> (parameter)
in <a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer.eval_pop" title="ltl.optimizers.optimizer.Optimizer.eval_pop"><code class="xref py py-attr docutils literal"><span class="pre">eval_pop</span></code></a> by calling the <cite>Optimizee</cite>’s <a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.simulate" title="ltl.optimizees.optimizee.Optimizee.simulate"><code class="xref py py-meth docutils literal"><span class="pre">simulate()</span></code></a>
method.  Each <cite>Optimizee</cite> run can happen in parallel across cores and even across nodes if enabled as described in
<a class="reference internal" href="#parallelization"><span class="std std-ref">Parallelization</span></a>.</li>
<li>the <cite>Optimizee</cite>’s <a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.simulate" title="ltl.optimizees.optimizee.Optimizee.simulate"><code class="xref py py-meth docutils literal"><span class="pre">simulate()</span></code></a> method runs whatever simulation it has to run
with the given <em>individual</em> (parameter) and returns a Python <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><code class="xref py py-obj docutils literal"><span class="pre">tuple</span></code></a> with one or more fitness values <a class="footnote-reference" href="#id4" id="id2">[1]</a>.</li>
<li>Once the runs are done, <a class="reference internal" href="#pypet-section"><span class="std std-ref">Pypet</span></a> calls the <cite>Optimizer</cite>’s
<a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer.post_process" title="ltl.optimizers.optimizer.Optimizer.post_process"><code class="xref py py-meth docutils literal"><span class="pre">post_process()</span></code></a> method <a class="footnote-reference" href="#id5" id="id3">[2]</a> with the list of <em>individuals</em> and their fitness
values as returned by the <cite>Optimizee</cite>’s <a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.simulate" title="ltl.optimizees.optimizee.Optimizee.simulate"><code class="xref py py-meth docutils literal"><span class="pre">simulate()</span></code></a> method.
The <cite>Optimizer</cite> can choose to do whatever it wants with the fitnesses, and use
it to create a new set of <em>individuals</em> which it puts into its <a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer.eval_pop" title="ltl.optimizers.optimizer.Optimizer.eval_pop"><code class="xref py py-attr docutils literal"><span class="pre">eval_pop</span></code></a>
attribute (after clearing it of the old <em>population</em>).</li>
<li>The loop continues from <a class="reference internal" href="#third-step"><span class="std std-ref">3.</span></a></li>
</ol>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td><strong>NOTE:</strong> Even if there is only one fitness value, this function should still return a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><code class="xref py py-obj docutils literal"><span class="pre">tuple</span></code></a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>This is done using <a class="reference external" href="https://pythonhosted.org/pypet/">PyPet</a>’s postprocessing facility and its
<a class="reference external" href="https://pypet.readthedocs.io/en/latest/pypetdoc/trajectorydoc.html#pypet.trajectory.Trajectory.f_expand" title="(in pypet v0.4)"><code class="xref py py-meth docutils literal"><span class="pre">f_expand()</span></code></a> function as documented <a class="reference external" href="http://pythonhosted.org/pypet/cookbook/environment.html#expanding-your-trajectory-via-post-processing">here</a>.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="usage-of-pypet">
<span id="pypet-section"></span><h3>Usage of PyPet<a class="headerlink" href="#usage-of-pypet" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://pythonhosted.org/pypet/">PyPet</a>’s interface is used extensively to:</p>
<ol class="arabic simple">
<li>Run the <a class="reference internal" href="#iteration-loop"><span class="std std-ref">Iteration loop</span></a> that:<ol class="loweralpha">
<li>Runs <cite>Optimizees</cite> (potentially in parallel) to evaluate the fitness of each <a class="reference internal" href="#individual">individual</a> in a <a class="reference internal" href="#population">population</a>.</li>
<li>Feeds back the results of the fitness evaluation back to the <cite>Optimizer</cite> which generates a new population
of individuals to evaluate.</li>
<li>Loop back to a) with the new set of parameters.</li>
</ol>
</li>
<li>Manage the <a class="reference internal" href="#communication"><span class="std std-ref">Important Data Structures</span></a> between <cite>Optimizer</cite> and <cite>Optimizee</cite>.  This is done using the the <code class="xref py py-obj docutils literal"><span class="pre">traj</span></code> object of type
<a class="reference external" href="https://pypet.readthedocs.io/en/latest/pypetdoc/trajectorydoc.html#pypet.trajectory.Trajectory" title="(in pypet v0.4)"><code class="xref py py-class docutils literal"><span class="pre">Trajectory</span></code></a>.</li>
<li>Store the results of all the runs, both the parameters and their fitnesses along with any other arbitrary data
included by the user, into a single hdf5 file.</li>
</ol>
<p>Note that most of the pypet functionality, especially those regarding the usage of trajectories is NOT abstracted
out. The user is therefore engouraged to familiarize himself with the working of pypet trajectories.</p>
</div>
</div>
<div class="section" id="writing-new-algorithms">
<h2>Writing new algorithms<a class="headerlink" href="#writing-new-algorithms" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>For a new <strong>Optimizee</strong>: Create a copy of the class <a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee" title="ltl.optimizees.optimizee.Optimizee"><code class="xref py py-class docutils literal"><span class="pre">Optimizee</span></code></a> into a new python
module with an appropriate name and fill in the functions. E.g. for a DMS task optimizee, you would create
a module (i.e. directory with a <cite>__init__.py</cite> file) as <cite>ltl/optimizees/dms/</cite> and copy the above class there.</li>
<li>For a new <strong>Optimizer</strong>: Create a copy of the class <a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer" title="ltl.optimizers.optimizer.Optimizer"><code class="xref py py-class docutils literal"><span class="pre">Optimizer</span></code></a> into a new python
module with an appropriate name and fill in the functions. (same as above)</li>
<li>For a new <strong>experiment</strong>: Create a copy of the file <code class="file docutils literal"><span class="pre">bin/ltl-template.py</span></code> with an appropriate name and fill in
the <em>TODOs</em>.</li>
<li>Add an entry in <code class="file docutils literal"><span class="pre">bin/logging.yaml</span></code> for the new class/file you created. See <a class="reference internal" href="#logging">logging</a>.</li>
</ul>
<p>Details for implementing the <cite>Optimizer</cite>, <cite>Optimizee</cite> and experiment follow.</p>
<div class="section" id="important-data-structures">
<span id="communication"></span><h3>Important Data Structures<a class="headerlink" href="#important-data-structures" title="Permalink to this headline">¶</a></h3>
<div class="section" id="trajectory">
<h4>Trajectory<a class="headerlink" href="#trajectory" title="Permalink to this headline">¶</a></h4>
<p>The Trajectory is a container that is central to the pypet simulation library. To quote from the PyPet website:</p>
<blockquote>
<div><p>The whole project evolves around a novel container object called trajectory. A trajectory is a container for parameters
and results of numerical simulations in python. In fact a trajectory instantiates a tree and the tree structure will be
mapped one to one in the HDF5 file when you store data to disk. …</p>
<p>… a trajectory contains parameters, the basic building blocks that completely define the initial
conditions of your numerical simulations. Usually, these are very basic data types, like integers, floats or maybe a
bit more complex numpy arrays.</p>
</div></blockquote>
<p>In the simulations using the LTL Framework, there is a single <a class="reference external" href="https://pypet.readthedocs.io/en/latest/pypetdoc/trajectorydoc.html#pypet.trajectory.Trajectory" title="(in pypet v0.4)"><code class="xref py py-class docutils literal"><span class="pre">Trajectory</span></code></a> object (called
<code class="xref py py-obj docutils literal"><span class="pre">traj</span></code>). This object forms the backbone of communication between the optimizer, optimizee, and the
PyPet framework. In short, it is used to acheive the following:</p>
<ol class="arabic simple">
<li>Storage of the parameters of the optimizer, optimizee, and <a class="reference internal" href="#individuals">individuals</a> of the optimizee</li>
<li>Storage of the results of our simulation</li>
<li>Adaptive exploration of parameters via trajectory expansion.</li>
</ol>
<p><code class="xref py py-obj docutils literal"><span class="pre">traj</span></code> object is passed as a mandatory argument to the constructors of both the Optimizee and Optimizer.
Additionally, PyPet automatically passes this object as an argument to the functions
<a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.simulate" title="ltl.optimizees.optimizee.Optimizee.simulate"><code class="xref py py-meth docutils literal"><span class="pre">simulate()</span></code></a> and <a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer.post_process" title="ltl.optimizers.optimizer.Optimizer.post_process"><code class="xref py py-meth docutils literal"><span class="pre">post_process()</span></code></a></p>
</div>
<div class="section" id="individual-dicts">
<span id="individual-dict"></span><span id="id7"></span><h4>Individual-Dict<a class="headerlink" href="#individual-dicts" title="Permalink to this headline">¶</a></h4>
<p>This is the data structure used to represent <a class="reference internal" href="#individuals">individuals</a>. This is basically a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> that has the parameter
names as keys, and parameter values as values. The following need to be noted about the parameters stored in an
<em>Individual-Dict</em>.</p>
<ol class="arabic simple">
<li>The parameter names must be the dot-separated full-name (e.g. <code class="docutils literal"><span class="pre">'sim_control.seed'</span></code>) of the parameter.
This name must be the name by which it is stored in the <cite>individual</cite> parameter group of the <code class="xref py py-obj docutils literal"><span class="pre">traj</span></code>.
To understand this, look at <a class="reference internal" href="#optimizee-constructor"><span class="std std-ref">constructor of Optimizee</span></a>.</li>
<li>The dictionary must contain <strong>exactly</strong> those parameters that are going to be explored by the <cite>Optimizer</cite>.
This is because this dictionary is used to expand the trajectory in the
<a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer.post_process" title="ltl.optimizers.optimizer.Optimizer.post_process"><code class="xref py py-meth docutils literal"><span class="pre">post_process()</span></code></a> function. See the note about expanding trajectories in
ref:<cite>optimizer-constructor</cite></li>
</ol>
<p>In the documentation above, whenever the term <a class="reference internal" href="#individual">individual</a> is used, it is assumed that the object referred to is
an <cite>Individual-Dict</cite>. Also note that the Individual-Dict is not a separate class but merely a specification for
specifying individuals of an optimizee via a dict.</p>
<p>In other places in the documentation, the Individual-Dict may also be referred to as a parameter dict, due to the
fact that its keys represent parameter names.</p>
</div>
</div>
<div class="section" id="optimizee">
<span id="traj-interaction"></span><h3>Optimizee<a class="headerlink" href="#optimizee" title="Permalink to this headline">¶</a></h3>
<p>The optimizee subclasses <a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee" title="ltl.optimizees.optimizee.Optimizee"><code class="xref py py-class docutils literal"><span class="pre">Optimizee</span></code></a> with a class that contains four mandatory methods
(Documentation linked below):</p>
<ol class="arabic simple">
<li><a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.create_individual" title="ltl.optimizees.optimizee.Optimizee.create_individual"><code class="xref py py-meth docutils literal"><span class="pre">create_individual()</span></code></a> : Called to return a random <a class="reference internal" href="#individual">individual</a> (returns an <a class="reference internal" href="#individual-dict">Individual-Dict</a>)</li>
<li><a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.bounding_func" title="ltl.optimizees.optimizee.Optimizee.bounding_func"><code class="xref py py-meth docutils literal"><span class="pre">bounding_func()</span></code></a> : Called to return a clipped version of <a class="reference internal" href="#individual">individual</a> (returns an <a class="reference internal" href="#individual-dict">Individual-Dict</a>)</li>
<li><a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.simulate" title="ltl.optimizees.optimizee.Optimizee.simulate"><code class="xref py py-meth docutils literal"><span class="pre">simulate()</span></code></a> : Runs the actual simulation and returns a fitness vector</li>
</ol>
<p>In order to maintain a consistent framework for communication between the optimizer, optimizee, and <a class="reference internal" href="#pypet-section"><span class="std std-ref">PyPet</span></a>
it is required to enforce certain requirements on the behaviour of the above functions. The details of these requirements for the
<cite>Optimizee</cite> functions are given below</p>
<div class="section" id="constructor-of-optimizee">
<span id="optimizee-constructor"></span><h4>Constructor of Optimizee<a class="headerlink" href="#constructor-of-optimizee" title="Permalink to this headline">¶</a></h4>
<p>This function may perform any one-time initialization operations that are required for the particular optimizee.
In addition to this, It <em>must perform</em> the job of initializing parameters in the trajectory. These parameters must
be created in the parameter subgroup named <cite>individual</cite> (i.e. using <code class="docutils literal"><span class="pre">traj.parameter.individual.f_add_parameter()</span></code>). The
following is a contract that must be obeyed by this constructor.</p>
<blockquote>
<div>All parameters that are explored for the optimizee must be created in the trajectory under the <cite>individual</cite>
parameter group. Moreover, the names by which they are stored (excluding the <cite>individual</cite>) must be equal to the
key of the Individual-Dict entry representing that parameter.</div></blockquote>
<p>As an example, if one wanted a parameter named <code class="docutils literal"><span class="pre">sim_control.seed</span></code> to be a part of the trajectory, one would do
the following.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">traj</span><span class="o">.</span><span class="n">individual</span><span class="o">.</span><span class="n">f_add_parameter</span><span class="p">(</span><span class="s1">&#39;sim_control.seed&#39;</span><span class="p">,</span> <span class="mi">1010</span><span class="p">)</span>
</pre></div>
</div>
<p>If one intends <code class="docutils literal"><span class="pre">sim_control.seed</span></code> to be a parameter over which to explore, the <a class="reference internal" href="#individual-dict">Individual-Dict</a> describing an
individual of the optimizee must contain a key named <code class="docutils literal"><span class="pre">'sim_control.seed'</span></code></p>
<p><em>NOTE</em> that the parameter group named <cite>individual</cite> itself is created in the constructor of the base <cite>Optimizee</cite> class.
Thus, the derived class need only implement the addition of parameters as shown above.</p>
</div>
<div class="section" id="the-create-individual-function">
<h4>The <a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.create_individual" title="ltl.optimizees.optimizee.Optimizee.create_individual"><code class="xref py py-meth docutils literal"><span class="pre">create_individual()</span></code></a> function:<a class="headerlink" href="#the-create-individual-function" title="Permalink to this headline">¶</a></h4>
<p>This must return an <a class="reference internal" href="#individual">individual</a> of the optimizee, i.e. it must return an <a class="reference internal" href="#individual-dict">Individual-Dict</a> representing
a valid random individual of the optimizee.</p>
</div>
<div class="section" id="the-simulate-function">
<h4>The <a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.simulate" title="ltl.optimizees.optimizee.Optimizee.simulate"><code class="xref py py-meth docutils literal"><span class="pre">simulate()</span></code></a> function:<a class="headerlink" href="#the-simulate-function" title="Permalink to this headline">¶</a></h4>
<p>This function only receives as argument the trajectory <code class="xref py py-obj docutils literal"><span class="pre">traj</span></code> set to a particular run. Thus it must source all
required parameters from the <code class="xref py py-obj docutils literal"><span class="pre">traj</span></code> and the member variables of the <cite>Optimizee</cite> class. It must run the inner loop
with these parameters and always return a tuple (<em>even for 1-D fitness!!</em>) representing the fitness to be used for
optimizing.
_
See the class documentation for more details: <a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee" title="ltl.optimizees.optimizee.Optimizee"><code class="xref py py-class docutils literal"><span class="pre">Optimizee</span></code></a></p>
</div>
</div>
<div class="section" id="optimizer">
<h3>Optimizer<a class="headerlink" href="#optimizer" title="Permalink to this headline">¶</a></h3>
<p>The optimizer subclasses <a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer" title="ltl.optimizers.optimizer.Optimizer"><code class="xref py py-class docutils literal"><span class="pre">Optimizer</span></code></a> with a class that contains two mandatory methods:</p>
<ol class="arabic simple">
<li><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code>: This is the constructor which performs the duties of
initializing the trajectory and the initial <a class="reference internal" href="#generation">generation</a> of the simulation.</li>
<li><a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer.post_process" title="ltl.optimizers.optimizer.Optimizer.post_process"><code class="xref py py-meth docutils literal"><span class="pre">post_process()</span></code></a> : knowing the fitness for the current parameters, it
generates a new set of parameters and runs the next batch of simulations.</li>
</ol>
<p>And one optional method:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer.end" title="ltl.optimizers.optimizer.Optimizer.end"><code class="xref py py-meth docutils literal"><span class="pre">end()</span></code></a> : Tertiary method to do cleanup, printing results etc.</li>
</ol>
<p>Note that in order to maintain a consistent framework for communication between the optimizer, optimizee, and
<a class="reference internal" href="#pypet-section"><span class="std std-ref">PyPet</span></a>, we enforce a certain protocol for the above function. The details of this protocol
are outlined below</p>
<div class="section" id="constructor-of-optimizer">
<span id="optimizer-constructor"></span><h4>Constructor of Optimizer<a class="headerlink" href="#constructor-of-optimizer" title="Permalink to this headline">¶</a></h4>
<p>Perform any one-time initialization tasks including creating optimizer parameters in the trajectory. Note that
optimizer parameters are created in the root parameter group of <code class="xref py py-obj docutils literal"><span class="pre">traj</span></code> (i.e. <cite>traj.par.f_add_parameter(…)</cite>).</p>
<p>Create a list of <a class="reference internal" href="#individuals">individuals</a> by using the <cite>optimizee_create_individual</cite> function. These are the individuals that
will be simulated in the first generation (i.e. generation index 0). Assign <cite>self.eval_pop</cite> to the list of above
individuals, and call <cite>self._expand_trajectory()</cite> to expand the trajectory to include the parameters corresponding
to these individuals.</p>
<p><cite>self._expand_trajectory()</cite> relies on the fact that the <a class="reference internal" href="#individual">individual</a> objects are <a class="reference internal" href="#individual-dicts">Individual-Dicts</a> and uses the keys
to access and assign the relevant optimizee parameters in the parameter group <code class="xref py py-obj docutils literal"><span class="pre">traj.individual</span></code>. This is
the reason for the contract enforced on the Optimizee constructor</p>
<p>Note that all the (non-exploring) paramters to the <cite>Optimizer</cite> is passed in to its constructor through a
<a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.namedtuple" title="(in Python v3.7)"><code class="xref py py-func docutils literal"><span class="pre">namedtuple()</span></code></a> to keep the paramters documented. For examples see <a class="reference internal" href="ltl.optimizers.evolution.html#ltl.optimizers.evolution.optimizer.GeneticAlgorithmParameters" title="ltl.optimizers.evolution.optimizer.GeneticAlgorithmParameters"><code class="xref py py-class docutils literal"><span class="pre">GeneticAlgorithmParameters</span></code></a>
or <a class="reference internal" href="ltl.optimizers.simulatedannealing.html#ltl.optimizers.simulatedannealing.optimizer.SimulatedAnnealingParameters" title="ltl.optimizers.simulatedannealing.optimizer.SimulatedAnnealingParameters"><code class="xref py py-class docutils literal"><span class="pre">SimulatedAnnealingParameters</span></code></a></p>
</div>
<div class="section" id="the-post-process-function">
<h4>The <a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer.post_process" title="ltl.optimizers.optimizer.Optimizer.post_process"><code class="xref py py-meth docutils literal"><span class="pre">post_process()</span></code></a> function:<a class="headerlink" href="#the-post-process-function" title="Permalink to this headline">¶</a></h4>
<p>This function receives, along with the trajectory <code class="xref py py-obj docutils literal"><span class="pre">traj</span></code>, a list of tuples. Each tuple has the structure
<cite>(run_index, run_fitness_tuple)</cite>. The <a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer.post_process" title="ltl.optimizers.optimizer.Optimizer.post_process"><code class="xref py py-meth docutils literal"><span class="pre">post_process()</span></code></a> function also has
access to the individuals whose fitness was calculated (via the member <cite>self.eval_pop</cite>), and the generation index
(<cite>self.g</cite>), along with any other user defined member variable.</p>
<p>Using the above, the function must calculate a new <a class="reference internal" href="#population">population</a> of <a class="reference internal" href="#individuals">individuals</a> to explore (remember individuals
are always in <a class="reference internal" href="#individual-dict">Individual-Dict</a> form). It must then store this list of individuals in <cite>self.eval_pop</cite> and call
<cite>self._expand_trajectory()</cite>. [See <a class="reference internal" href="#optimizer-constructor"><span class="std std-ref">Constructor of Optimizer</span></a> for trajectory expansion details]. Also, <cite>self.g</cite>
must be incremented</p>
<p>In case one wishes to terminate the simulation after the current generation, one must simply <strong>not call</strong>
<cite>self._expand_trajectory()</cite>. Do not call <cite>self._expand_trajectory()</cite> with an empty <cite>self.eval_pop</cite> as it will
raise an error</p>
<p>Some points to remember are the following:</p>
<ol class="arabic simple">
<li>The call to <cite>self._expand_trajectory</cite> not only causes the trajectory to store more parameter values to explore,
bu, due to the mechanism underlying <a class="reference external" href="https://pypet.readthedocs.io/en/latest/pypetdoc/trajectorydoc.html#pypet.trajectory.Trajectory.f_expand" title="(in pypet v0.4)"><code class="xref py py-meth docutils literal"><span class="pre">f_expand()</span></code></a>, also causes the
<a class="reference internal" href="#pypet-section"><span class="std std-ref">Pypet</span></a> framework to run the optimizee <a class="reference internal" href="ltl.optimizees.html#ltl.optimizees.optimizee.Optimizee.simulate" title="ltl.optimizees.optimizee.Optimizee.simulate"><code class="xref py py-meth docutils literal"><span class="pre">simulate()</span></code></a>
function on these parameters. Look at the documentation referenced in the footnote of <a class="reference internal" href="#iteration-loop">iteration-loop</a> for more
details on this</li>
<li><strong>Always</strong> build the optimizer to maximize fitness. The weights that are passed in to the optimizer constructor
can be made negative if one wishes to perform minimization</li>
</ol>
<p>See the class documentation for more details: <a class="reference internal" href="ltl.optimizers.html#ltl.optimizers.optimizer.Optimizer" title="ltl.optimizers.optimizer.Optimizer"><code class="xref py py-class docutils literal"><span class="pre">Optimizer</span></code></a></p>
</div>
</div>
<div class="section" id="running-an-ltl-simulation">
<h3>Running an LTL simulation<a class="headerlink" href="#running-an-ltl-simulation" title="Permalink to this headline">¶</a></h3>
<p>Before running a simulation for the first time, you need to specify the output directory for your results. To do so,
create a new file <code class="file docutils literal"><span class="pre">bin/path.conf</span></code> with a single entry containing an absolute path or a path relative to the top-
level LTL directory, e.g. <code class="file docutils literal"><span class="pre">./output_results/</span></code>, and create an empty folder at the path you specified. You also need
to commit any staged files to your local repo. Failing to follow these instructions raises an error when trying to run
any of the test simulations.</p>
<p>To run a LTL simulation, copy the file <code class="file docutils literal"><span class="pre">bin/ltl-template.py</span></code> (see <a class="reference internal" href="ltl-bin.html"><span class="doc">LTL Experiments</span></a>) to
<code class="file docutils literal"><span class="pre">bin/ltl-</span><em><span class="pre">optimizeeabbr</span></em><span class="pre">-</span><em><span class="pre">optimizerabbr</span></em><span class="pre">.py</span></code>. Then fill in all the <strong>TODOs</strong> . Especially the parts with the
initialization of the appropriate <cite>Optimizers</cite> and <cite>Optimizees</cite>. The rest of the code should be left in place for
logging, recording and PyPet. See the source of <code class="file docutils literal"><span class="pre">bin/ltl-template.py</span></code> for more details.</p>
</div>
<div class="section" id="parameter-bounding">
<h3>Parameter Bounding<a class="headerlink" href="#parameter-bounding" title="Permalink to this headline">¶</a></h3>
<p>Most optimizees impose bounds on their parameters in some form. For example the
<a class="reference internal" href="ltl.optimizees.functions.html#ltl.optimizees.functions.optimizee.FunctionGeneratorOptimizee" title="ltl.optimizees.functions.optimizee.FunctionGeneratorOptimizee"><code class="xref py py-class docutils literal"><span class="pre">FunctionGeneratorOptimizee</span></code></a> imposes a rectangular bound on the set of valid coordinates. Most Optimizers
on the other hand do not have direct access to these bounds. Hence, If the optimizer wishes to support bounding, it must
accept a <a class="reference internal" href="#bounding-function">bounding-function</a> as an argument.</p>
<dl class="docutils" id="bounding-function">
<dt>Bounding Function:</dt>
<dd>This is a function that takes as an argument an <a class="reference internal" href="#individual">individual</a> of the Optimizee (an <a class="reference internal" href="#individual-dict">Individual-Dict</a>) and returns an
<a class="reference internal" href="#individual">individual</a> that is a ‘bounded’ version of the said individual. This bounding may for instance be implemented by means
of clipping or normalization. Both the <a class="reference internal" href="ltl.optimizees.functions.html#ltl.optimizees.functions.optimizee.FunctionGeneratorOptimizee" title="ltl.optimizees.functions.optimizee.FunctionGeneratorOptimizee"><code class="xref py py-class docutils literal"><span class="pre">FunctionGeneratorOptimizee</span></code></a> and the
<a class="reference internal" href="ltl.optimizees.mnist.html#ltl.optimizees.mnist.optimizee.MNISTOptimizee" title="ltl.optimizees.mnist.optimizee.MNISTOptimizee"><code class="xref py py-class docutils literal"><span class="pre">MNISTOptimizee</span></code></a> implement bounding functions in their classes which may be used in case a
function is required for bounding.</dd>
</dl>
<div class="section" id="important-notes-about-bounding">
<h4>Important Notes about Bounding<a class="headerlink" href="#important-notes-about-bounding" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>If you’re scaling/normalizing the value in <cite>bounding_func</cite>, remember to un-scale the value in the <cite>Optimizee</cite>’s
<cite>simulate</cite> function before using it in your simulation.</li>
<li>A useful strategy that allows for an easy choice of <cite>Optimizer</cite> hyper-parameters would be to have the <cite>Optimizer</cite>
see <em>only</em> values within a certain range e.g. [0, 1].
For this, in the <cite>create_individual</cite> would scale the parameters and return values between [0, 1] which are used by
the <cite>Optimizer</cite>. The <cite>simulate</cite> function  would un-scale the value the <cite>Optimizer</cite> provides to the original range
of the parameters. And the <cite>bounding_func</cite> would only clip the values to be between [0, 1] and do NO scaling.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>See <a class="reference internal" href="ltl.optimizees.functions.html#ltl.optimizees.functions.optimizee.FunctionGeneratorOptimizee" title="ltl.optimizees.functions.optimizee.FunctionGeneratorOptimizee"><code class="xref py py-class docutils literal"><span class="pre">FunctionGeneratorOptimizee</span></code></a> for an example of an <cite>Optimizee</cite> (based on simple function minimization).</li>
<li>See <a class="reference internal" href="ltl.optimizers.simulatedannealing.html#ltl.optimizers.simulatedannealing.optimizer.SimulatedAnnealingOptimizer" title="ltl.optimizers.simulatedannealing.optimizer.SimulatedAnnealingOptimizer"><code class="xref py py-class docutils literal"><span class="pre">SimulatedAnnealingOptimizer</span></code></a> for an example of an implementation of simulated annealing <cite>Optimizer</cite>.</li>
<li>See <a class="reference internal" href="ltl-bin.html#ltl-experiments"><span class="std std-ref">LTL Experiments</span></a> for an example implementation of an LTL experiment with an arbitrary <cite>Optimizee</cite> and <cite>Optimizer</cite>.</li>
</ul>
</div>
<div class="section" id="data-postprocessing">
<span id="id8"></span><h2>Data postprocessing<a class="headerlink" href="#data-postprocessing" title="Permalink to this headline">¶</a></h2>
<p>Having run the simulation, the next superpower required is the ability to make sense of all the data that we’ve dumped
into the trajectory and (consequently) the HDF5 file. Of course you could use the functions that pypet provides for this
purpose but the complexity of the interface is rather discouraging. Therefore to cover the most common cases (In fact, I
really haven’t YET come across any other cases), We have created the <a class="reference internal" href="ltl.dataprocessing.html#module-ltl.dataprocessing" title="ltl.dataprocessing"><code class="xref py py-mod docutils literal"><span class="pre">dataprocessing</span></code></a> with the relevant
functions. Look up the documentation of the module for further details.</p>
</div>
<div class="section" id="parallelization">
<span id="id9"></span><h2>Parallelization<a class="headerlink" href="#parallelization" title="Permalink to this headline">¶</a></h2>
<p>PyPet also supports running different instances of the experiments on different cores and hosts (using the
<a class="reference external" href="https://scoop.readthedocs.io/en/0.7/">SCOOP</a> library). The parameters passed to PyPet determine which Parallelization
mode to use.</p>
<ul class="simple">
<li>For both single-node-multi-core parallelization (SNMCP) and multi-node-multi-core parallelization (MNMCP) pass in the following arguments
when initializing the <a class="reference external" href="https://pypet.readthedocs.io/en/latest/pypetdoc/environmentdoc.html#pypet.environment.Environment" title="(in pypet v0.4)"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a> in the <cite>bin</cite> script.</li>
</ul>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">multiproc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="n">use_scoop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="n">wrap_mode</span><span class="o">=</span><span class="n">pypetconstants</span><span class="o">.</span><span class="n">WRAP_MODE_LOCAL</span><span class="p">,</span>
</pre></div>
</div>
<ul class="simple">
<li>For SNMCP, run the script with <code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">scoop</span> <span class="pre">&lt;script</span> <span class="pre">name&gt;</span></code></li>
<li>For MNMCP, run the script with <code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">scoop</span> <span class="pre">--hostfile</span> <span class="pre">hosts.txt</span> <span class="pre">&lt;script</span> <span class="pre">name&gt;</span></code>, where <cite>hosts.txt</cite> contains a list
of hosts and the number of cores.</li>
</ul>
<p>See the <a class="reference external" href="https://scoop.readthedocs.io/en/0.7/usage.html#how-to-launch-scoop-programs">scoop documentation</a> for more details.</p>
</div>
<div class="section" id="logging">
<span id="id10"></span><h2>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Always use the <cite>logger</cite> object obtained from:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;heirarchical.logger.name&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>to output messages to a console/file.</p>
</li>
<li><p class="first">Setting up logging in a multiprocessing environment is a mind-numbingly painful process. Therefore, to keep users
sane, we have provided the module <a class="reference internal" href="ltl.logging_tools.html#module-ltl.logging_tools" title="ltl.logging_tools"><code class="xref py py-mod docutils literal"><span class="pre">logging_tools</span></code></a> with 2 functions which can be used to conveniently setup
logging. See the module documentation for more details.</p>
</li>
<li><p class="first">As far as using loggers is concerned, the convention is one logger per file. The name of the logger should reflect
module hierarchy. For example, the logger used in the file <cite>optimizers/crossentropy/optimizer.py</cite> is named
<code class="docutils literal"><span class="pre">'optimizers.crossentropy'</span></code></p>
</li>
<li><p class="first">A logger is uniquely identified by its name throughout the python process (i.e. it’s kinda like a global variable).
Thus if two different files use <code class="docutils literal"><span class="pre">'optimizer.crossentropy'</span></code> then their logs will be redirect to the same logger.</p>
</li>
</ol>
<p>You can modify the <code class="file docutils literal"><span class="pre">bin/logging.yaml</span></code> file to choose the output level and to redirect messages to console or
file.</p>
<p>See the <a class="reference external" href="https://docs.python.org/3/howto/logging.html">Python logging tutorial</a> for more details.</p>
</div>
<div class="section" id="additional-utilities-and-protocols">
<h2>Additional Utilities and Protocols<a class="headerlink" href="#additional-utilities-and-protocols" title="Permalink to this headline">¶</a></h2>
<p>While the essential interface between Optimizers, Optimizers, and <a class="reference internal" href="#pypet-section"><span class="std std-ref">PyPet</span></a> is completely defined
above, The practical implementation of Optimizers and Optimizees demands certain frequently used data structures and
functions. These are detailed here</p>
<div class="section" id="dict-to-list-to-dict-conversion">
<h3>dict-to-list-to-dict Conversion<a class="headerlink" href="#dict-to-list-to-dict-conversion" title="Permalink to this headline">¶</a></h3>
<p>The benefit of treating <a class="reference internal" href="#individuals">individuals</a> as <a class="reference internal" href="#individual-dicts">Individual-Dicts</a> is that it allows properly named parameters in the optimizee,
however this comes at the cost of the optimizer being unable to generalize across different Optimizee classes with
different <a class="reference internal" href="#individual-dicts">Individual-Dicts</a> representing the individual. One solution for this is that most Optimizers prefer to behave
like they are optimizing a vector (in the case of python, a list). Thus, the Optimizer requires the ability to convert
back and forth between a list and a dictionary. For this purpose, we have the following functions</p>
<ol class="arabic simple">
<li><a class="reference internal" href="ltl.html#ltl.dict_to_list" title="ltl.dict_to_list"><code class="xref py py-meth docutils literal"><span class="pre">dict_to_list()</span></code></a></li>
<li><a class="reference internal" href="ltl.html#ltl.list_to_dict" title="ltl.list_to_dict"><code class="xref py py-meth docutils literal"><span class="pre">list_to_dict()</span></code></a></li>
</ol>
<p>Check their documentation for more details.</p>
</div>
</div>
<div class="section" id="other-packages-used">
<h2>Other packages used<a class="headerlink" href="#other-packages-used" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://pythonhosted.org/pypet/">PyPet</a>: This is a parameter exploration toolkit that managers exploration
of parameter space <em>and</em> storing the results in a standard format (HDF5).</li>
<li><a class="reference external" href="https://scoop.readthedocs.io/en/0.7/">SCOOP</a>: This is optionally used for distributing individual Optimizee
simulations across multiple hosts in a cluster.</li>
</ul>
</div>
</div>


                </div>
              </div>
            </div>
          </div>
        </div>
        
        
      </div><!-- /row -->

      <!-- row -->
      <div class="row footer-relbar">
<div id="navbar-related" class=" related navbar navbar-default" role="navigation" aria-label="related navigation">
  <div class="navbar-inner">
    <ul class="nav navbar-nav ">
        <li><a href="index.html">LTL 1.0.0-beta documentation</a></li>
    </ul>
<ul class="nav navbar-nav pull-right hidden-xs hidden-sm">
      
        <li><a href="quickstart.html" title="Quickstart" >previous</a></li>
        <li><a href="ltl.html" title="API Reference" >next</a></li>
        <li><a href="py-modindex.html" title="Python Module Index" >modules</a></li>
        <li><a href="genindex.html" title="General Index" >index</a></li>
        <li><a href="#">top</a></li> 
      
    </ul>
  </div>
</div>
      </div><!-- /row -->

      <!-- footer -->
      <footer role="contentinfo">
          &copy; Copyright 2017, Anand Subramoney.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.2.
      </footer>
      <!-- /footer -->

    </div>
    <!-- /container -->

  </body>
</html>